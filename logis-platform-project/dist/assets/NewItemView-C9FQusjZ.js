import{r as i,c as u,a as e,b as g,t as m,g as r,w as h,v as w,o as _,u as C,f as I}from"./index-Bl139ScP.js";import{_ as j}from"./empty-Ds8-ZYcy.js";import{_ as q,h as N,c as k}from"./heaaderBox-Bna1lh5W.js";import{C as v,A as L}from"./firebaseAPI-DmnIUue1.js";const B={class:"total-layout"},R={class:"header-layout"},V={class:"main-layout"},D={class:"container mt-3"},T={class:"row"},U={class:"col-12 mb-4"},H={class:"card item-card-box"},S={class:"card-body d-flex justify-content-center align-items-center"},A={class:"location-box d-flex justify-content-between align-items-center"},E={class:"location-box space text-truncate"},P={class:"location-box address text-truncate"},W={class:"card-body d-flex justify-content-center align-items-center"},M={class:"col-12 mb-4"},O={class:"card item-card-box"},z={class:"card-body"},F={class:"col mb-3 d-flex flex-column justify-content-center align-items-center"},G={key:0,src:j,alt:"Empty",class:"img-fluid item-image"},J=["src"],K={class:"d-flex align-items-center item-color-box"},Q={class:"d-flex item-color-text align-items-center"},X={class:"row mt-3 justify-content-center"},Y={class:"col-12 align-self-end"},Z=["disabled"],$={class:"footer-layout"},ee={__name:"NewItemView",setup(te){const o=C(),f=I(),s=i("#000000"),a=i({red:0,green:0,blue:0}),d=i(null),c=i(""),y=async n=>{const t=n.target.files[0];t&&(d.value=t,c.value=URL.createObjectURL(t));const l=await v.getPrimaryColor(c.value);s.value=v.colorDataToHex(l),a.value=l},p=()=>{f.push({name:"waitlist",query:{option:"new"}})},x=()=>{a.value=v.colorHexToData(s.value),console.log(a.value),console.log(s.value),console.log("[System] 새로운 색상으로 반영되었습니다.")},b=async()=>{const n={space:o.query.space,address:o.query.address},t=await L.item.add(a.value,n,d.value);console.log(t),await f.push({name:"waitlist"})};return(n,t)=>(_(),u("div",B,[e("header",R,[g(N)]),e("main",V,[t[2]||(t[2]=e("div",{class:"text-start mt-4 ms-4 title-box"}," Create a new item ",-1)),e("div",D,[e("div",T,[e("div",U,[e("div",H,[e("div",S,[e("div",A,[t[1]||(t[1]=e("div",{class:"location-box location text-truncate"},"New Wait Location",-1)),e("div",E,m(r(o).query.space),1),e("div",P,m(r(o).query.address),1)]),e("div",{class:"row justify-content-center"},[e("div",{class:"align-self-end"},[e("button",{class:"btn btn-secondary text-truncate rounded-btn location-btn",onClick:p}," Select ")])])]),e("div",W,[e("input",{id:"product-image",type:"file",class:"form-control-file",accept:"image/*",onChange:y},null,32)])])]),e("div",M,[e("div",O,[e("div",z,[e("div",F,[c.value?(_(),u("img",{key:1,src:c.value,alt:"New Item Image",class:"img-fluid item-image"},null,8,J)):(_(),u("img",G))]),e("div",K,[h(e("input",{type:"color",class:"form-control form-control-color item-color-select",id:"myColor","onUpdate:modelValue":t[0]||(t[0]=l=>s.value=l),onChange:x},null,544),[[w,s.value]]),e("div",Q,m(s.value),1)]),e("div",X,[e("div",Y,[e("button",{class:"btn btn-success w-100 text-truncate rounded-btn",disabled:!r(o).query.space||!r(o).query.address||!d.value,onClick:b}," Create ",8,Z)])])])])])])])]),e("footer",$,[g(k)])]))}},ne=q(ee,[["__scopeId","data-v-74b00541"]]);export{ne as default};
